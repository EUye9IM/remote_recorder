# 技术手册

## 基本原理

本项目后端为golang编写。在收到一个新连接后与客户端浏览器打开一个websocket连接，感知对端状态同时，作信令传输作用。

学生端、服务端、监控端的数据流关系为：

```
       +-----------------------------------------------+
       |                                               |
       |    服务器                                     |
       |                       信令（学生端-监控端）   |
       |          +-------------------------------+    |
       |          |                               |    |
       +-+-+----------+------------------------------+-+
         | |      |   |                           |  |
         | |      |   |                           |  |
         | |      |   |webrtc                     |  |
websocket| |信令  |   |                           |  |websocket
         | |      |   |                           |  |
         | |      |   |                           |  |
         | |      |   |                           |  |
         | |      |   |                           |  |
       +-+-+------+---++               +----------+--+-+
       |               |   webrtc      |               |
       |  学生端       +---------------+   监控端      |
       |               |               |               |
       +---------------+               +---------------+

```

## 视频编码标准

h264

## 帧率、码率、采样率的设置

此部分关于视频的设置，目前是在前端中设定，且不可改变，在`source/resources/js/peer.js`文件中，具体如：

```javascript
const displayMediaOptions = {
    video: {
        frameRate: { ideal: 15, max: 15 }
    },
    audio: false
}

const mediaStreamConstrains = {
    video: false,
    audio: true
}
```

关于此部分内容，并未提供可变修改的设置。如果需要修改，可以直接在`peer.js`文件中修改。
